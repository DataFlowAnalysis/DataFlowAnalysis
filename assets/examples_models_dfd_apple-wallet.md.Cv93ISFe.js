import{_ as t,c as o,o as a,a2 as n}from"./chunks/framework.DDIT__tB.js";const u=JSON.parse('{"title":"üìä Diagram: Apple Wallet Case Study","description":"","frontmatter":{},"headers":[],"relativePath":"examples/models/dfd/apple-wallet.md","filePath":"examples/models/dfd/apple-wallet.md"}'),r={name:"examples/models/dfd/apple-wallet.md"};function i(s,e,l,h,d,c){return a(),o("div",null,e[0]||(e[0]=[n('<h1 id="üìä-diagram-apple-wallet-case-study" tabindex="-1">üìä Diagram: Apple Wallet Case Study <a class="header-anchor" href="#üìä-diagram-apple-wallet-case-study" aria-label="Permalink to &quot;üìä Diagram: Apple Wallet Case Study&quot;">‚Äã</a></h1><h2 id="üîó-link-to-original-paper-article" tabindex="-1">üîó Link to Original Paper/Article <a class="header-anchor" href="#üîó-link-to-original-paper-article" aria-label="Permalink to &quot;üîó Link to Original Paper/Article&quot;">‚Äã</a></h2><h2 id="üìù-short-description" tabindex="-1">üìù Short Description <a class="header-anchor" href="#üìù-short-description" aria-label="Permalink to &quot;üìù Short Description&quot;">‚Äã</a></h2><p>These diagrams represent the main functionalities of the Apple Pay architecture, which are the enrollment process of a credit/debit card in Apple pay as conducted by a carholder and the other diagram illustrates the process of payment with the phone in a contactless device. The diagrams and explanations have been taken from the above source.</p><h2 id="üî§-abbreviations" tabindex="-1">üî§ Abbreviations <a class="header-anchor" href="#üî§-abbreviations" aria-label="Permalink to &quot;üî§ Abbreviations&quot;">‚Äã</a></h2><ul><li>POS: Point Of Sale</li><li>NFC: Near Field Communication</li><li>OTP: One-Time Payment (token)</li><li>PAN: Primary Account Number</li></ul><h2 id="üìñ-extensive-description-if-possible" tabindex="-1">üìñ Extensive Description (if possible) <a class="header-anchor" href="#üìñ-extensive-description-if-possible" aria-label="Permalink to &quot;üìñ Extensive Description (if possible)&quot;">‚Äã</a></h2><p>Although a more complete and thorough description can be found step-by-step in the source above, here are the explanations for the most important components of the diagram.</p><p>First there is the part regarding the enrollment process. First the <strong>Cardholder</strong> and the <strong>User Identification</strong> nodes for the authentication process. Then there is one of the main nodes of the diagram which is <strong>Apple Wallet</strong>. This node receives the <em>card_information</em> (such as name, cvv, expiration date, etc) and forwards it to the <strong>Check_Card</strong> node which, in case the card information is correct, forwards it to the <strong>Apple Server</strong>. This node then does a process of signing the <em>terms_and_conditions</em> with the <strong>Cardholder</strong>. When accepted, the <strong>Apple Server</strong> then sends the id of the terms and conditions in addition with the cards CVV to the <strong>Link And Provision</strong> node, which forwards the <em>device_information</em> (e.g. device model, phone number, approx. location) to the <strong>Issuer Bank</strong>. When this process is finished the <strong>Download Pass File</strong> node sends a <em>pass_file</em> (which represents the card in the app) to the <strong>Apple Wallet</strong> node which then passes the card information to the <strong>Apple Pay App</strong> to end the process.</p><p>For te part regarding the contactless payment, first the <strong>Terminal App</strong> node sends the <em>payment_data</em> to the <strong>NFC Reader App</strong> node which resides in POS. This node then forwards this to the <strong>NFC Controller</strong> node which in turn forwards it to the <strong>Apple Pay App</strong>. Then this last node exchanges the <em>transaction_information</em> with the <strong>Apple Wallet</strong> node in exchange for the <em>card_information</em>. Then after the previously mentioned authentication process between <strong>Cardholder</strong> and <strong>User Identification</strong> the <strong>Apple Pay App</strong> sends the <em>otp</em> to the <strong>NFC Controller</strong>. This token is forwarded through a series of nodes (<strong>NFC Reader App</strong>, <strong>Terminal App</strong> an <strong>Payment Processor</strong>) till it ends up at the <strong>Token Service</strong>. This node then determines the <em>pan</em> usign the <em>otp</em> and it sends it to the <strong>Payment Processor</strong>, which forwards it in addition with the transaction details and cvv of the card to the <strong>Payment Network</strong>. This node finally sends this information to the <strong>Issuer Bank</strong> as an <em>authorization_request</em>. After the <strong>Issuer Bank</strong> authorizes the payment it sends and <em>authorization_response</em> to the <strong>Terminal App</strong> of the device of the <strong>Cardholder</strong> thorugh a series of nodes (<strong>Payment Network</strong>, <strong>Payment Processor</strong>).</p><h2 id="üè∑Ô∏è-label-description" tabindex="-1">üè∑Ô∏è Label description <a class="header-anchor" href="#üè∑Ô∏è-label-description" aria-label="Permalink to &quot;üè∑Ô∏è Label description&quot;">‚Äã</a></h2><ul><li><h3 id="üóÇÔ∏è-data-labels" tabindex="-1">üóÇÔ∏è Data Labels: <a class="header-anchor" href="#üóÇÔ∏è-data-labels" aria-label="Permalink to &quot;üóÇÔ∏è Data Labels:&quot;">‚Äã</a></h3><ul><li><h3 id="cardholderstatus" tabindex="-1">CardholderStatus: <a class="header-anchor" href="#cardholderstatus" aria-label="Permalink to &quot;CardholderStatus:&quot;">‚Äã</a></h3><ul><li><strong>Authenticated</strong>: Cardholder has been correctly authenticated</li><li><strong>Authorized</strong>: Cardholder has been correctly authorizes</li></ul></li><li><h3 id="cardinformation" tabindex="-1">CardInformation: <a class="header-anchor" href="#cardinformation" aria-label="Permalink to &quot;CardInformation:&quot;">‚Äã</a></h3><ul><li><strong>Name</strong>: Name of the cardholder</li><li><strong>Number</strong>: Number of the card</li><li><strong>ExpirationDate</strong>: Expiration date of the card</li><li><strong>CVV</strong>: CVV code of the card</li></ul></li><li><h3 id="termsconditions" tabindex="-1">TermsConditions: <a class="header-anchor" href="#termsconditions" aria-label="Permalink to &quot;TermsConditions:&quot;">‚Äã</a></h3><ul><li><strong>Accepted</strong>: Signed terms &amp; conditions</li><li><strong>Normal</strong>: Terms &amp; conditions before being accepted</li><li><strong>Id</strong>: Identifier of the terms &amp; conditions</li></ul></li><li><h3 id="deviceinfomation" tabindex="-1">DeviceInfomation: <a class="header-anchor" href="#deviceinfomation" aria-label="Permalink to &quot;DeviceInfomation:&quot;">‚Äã</a></h3><ul><li><strong>Model</strong>: Model of the cardholders phone</li><li><strong>PhoneNumber</strong>: Phone number of the cardholder</li><li><strong>Location</strong>: Coarse location of the device</li></ul></li><li><h3 id="passfile" tabindex="-1">PassFile: <a class="header-anchor" href="#passfile" aria-label="Permalink to &quot;PassFile:&quot;">‚Äã</a></h3><ul><li><strong>PassFile</strong>: Pass file which represents the card in the Wallet App</li></ul></li><li><h3 id="paymentdata" tabindex="-1">PaymentData: <a class="header-anchor" href="#paymentdata" aria-label="Permalink to &quot;PaymentData:&quot;">‚Äã</a></h3><ul><li><strong>Amount</strong>: Amount of money payed in the transaction</li><li><strong>Token</strong>: Payment token</li><li><strong>Location</strong>: Location where the payment has taken place</li><li><strong>Others</strong>: Other extra information from the payment</li><li><strong>Authorization</strong>: Payment&#39;s authorization</li></ul></li><li><h3 id="tokens" tabindex="-1">Tokens: <a class="header-anchor" href="#tokens" aria-label="Permalink to &quot;Tokens:&quot;">‚Äã</a></h3><ul><li><strong>OTP</strong>: One-Time Payment Token</li><li><strong>PAN</strong>: Primary Account Number</li></ul></li><li><h3 id="requesttypes" tabindex="-1">RequestTypes: <a class="header-anchor" href="#requesttypes" aria-label="Permalink to &quot;RequestTypes:&quot;">‚Äã</a></h3><ul><li><strong>Authentication</strong>: Request for an authentication</li><li><strong>Authorization</strong>: Request for an authorization</li></ul></li></ul></li><li><h3 id="üè∑Ô∏è-node-labels" tabindex="-1">üè∑Ô∏è Node Labels: <a class="header-anchor" href="#üè∑Ô∏è-node-labels" aria-label="Permalink to &quot;üè∑Ô∏è Node Labels:&quot;">‚Äã</a></h3><ul><li><h3 id="secure" tabindex="-1">Secure: <a class="header-anchor" href="#secure" aria-label="Permalink to &quot;Secure:&quot;">‚Äã</a></h3><ul><li><strong>Enclave</strong>: This node belongs to a secure enclave</li><li><strong>Element</strong>: This node is a secured element</li></ul></li><li><h3 id="location" tabindex="-1">Location: <a class="header-anchor" href="#location" aria-label="Permalink to &quot;Location:&quot;">‚Äã</a></h3><ul><li><strong>PointOfSale</strong>: This node resides in the POS</li><li><strong>CardholderDevice</strong>: This node resides in the Cardholders device</li></ul></li><li><h3 id="module" tabindex="-1">Module: <a class="header-anchor" href="#module" aria-label="Permalink to &quot;Module:&quot;">‚Äã</a></h3><ul><li><strong>TerminalApp</strong>: This node is part of the Terminal App component</li><li><strong>AppleServer</strong>: This node is part of the Apple Server component</li></ul></li></ul></li></ul><h2 id="‚ö†Ô∏è-constraints" tabindex="-1">‚ö†Ô∏è Constraints <a class="header-anchor" href="#‚ö†Ô∏è-constraints" aria-label="Permalink to &quot;‚ö†Ô∏è Constraints&quot;">‚Äã</a></h2><ul><li><p>The Authentication and Authorization Request types should never flow to a node which is not in a secured enclave</p><ol><li><strong>Auth_request</strong>: <code>data RequestTypes.Authentication,RequestTypes.Authorization neverFlows vertex !Secure.Enclave</code></li></ol></li></ul><h2 id="üö®-violations" tabindex="-1">üö® Violations <a class="header-anchor" href="#üö®-violations" aria-label="Permalink to &quot;üö® Violations&quot;">‚Äã</a></h2><ul><li><strong>None</strong></li></ul>',16)]))}const m=t(r,[["render",i]]);export{u as __pageData,m as default};
